# VMAsm - Virtual Machine Assembler Toolkit 🌍 [English](README-en.md) | [Русский](README-ru.md)

## 项目概述
VMAsm 是一个基于虚拟机的汇编语言工具集，包含编译器、反汇编器和虚拟机实现。项目采用 C++17 编写，使用 CMake 构建系统。

## 功能特性
- **虚拟机核心**：支持64个寄存器、快照功能和流程控制
- **编译器**：将 VMAsm 源代码编译为虚拟机字节码
- **反汇编器**：将字节码转换回可读的汇编代码
- **序列化工具**：支持将虚拟机状态保存到文件或从文件加载
- **系统调用**：内置打印、退出、随机数等系统功能
- **命令行工具**：提供编译、运行和反汇编功能

## 语法
```asm
// 单行注释
/* 多行注释 */
main:      // 标签定义
    mov R0, 42     // 寄存器操作
    sys 0, R0      // 系统调用
    jmp #end // 无条件跳转到指定标签
    
end:    
    halt           // 程序结束
``` 

## 指令集
```asm
nop     // 伪指令无操作
jmp <立即数/标签>    //无条件跳转
mov <源 值/寄存器>, <目标寄存器>    // 写入寄存器
add <立即数/寄存器>, <立即数/寄存器>, <目标寄存器>  //加法
sub <被减数/寄存器>, <减数/寄存器>, <目标寄存器>  //减法
neg <立即数/寄存器>, <目标寄存器> //相反数
snap_save // 保存当前寄存器到快照
snap_swap // 交换寄存器与快照的值
snap_clear // 清空快照
regs_clear // 清空寄存器
jz <寄存器>, <立即数/标签> // 等于零跳转
jnz <寄存器>, <立即数/标签> // 不等于零跳转
jg <寄存器>, <立即数/标签> // 大于零跳转
jl <寄存器>, <立即数/标签> // 小于零跳转
halt // 停机
sys  <调用号> ...<参数> // 系统调用
```

## 快速开始
1. 克隆仓库
2. 使用CMake构建：
```bash
   mkdir build && cd build
   cmake .. && make