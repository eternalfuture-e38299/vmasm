# VMAsm - Набор инструментов для ассемблера виртуальной машины

## Обзор проекта
VMAsm - это набор инструментов для ассемблера на основе виртуальной машины, включающий компилятор, дизассемблер и реализацию виртуальной машины. Проект написан на C++17 и использует систему сборки CMake.

## Функциональные возможности
- **Ядро виртуальной машины**: Поддержка 64 регистров, функция снимков и управление потоком выполнения
- **Компилятор**: Преобразует исходный код VMAsm в байт-код виртуальной машины
- **Дизассемблер**: Преобразует байт-код обратно в читаемый ассемблерный код
- **Инструменты сериализации**: Поддержка сохранения состояния виртуальной машины в файлы и загрузки из файлов
- **Системные вызовы**: Встроенные системные функции, такие как вывод, завершение программы и генерация случайных чисел
- **Командные инструменты**: Предоставляет функции компиляции, выполнения и дизассемблирования

## Синтаксис
```asm
// Однострочный комментарий
/* Многострочный комментарий */
main:// Определение метки
mov R0, 42// Операция с регистром
sys 0, R0// Системный вызов
jmp #end // Безусловный переход к указанной метке

end:
halt// Завершение программы
```

## Набор инструкций
```asm
nop// Псевдоинструкция, отсутствие операции
jmp <непосредственное значение/метка>// Безусловный переход
mov <исходное значение/регистр>, <целевой регистр>// Запись в регистр
add <непосредственное значение/регистр>, <непосредственное значение/регистр>, <целевой регистр>// Сложение
sub <уменьшаемое/регистр>, <вычитаемое/регистр>, <целевой регистр>// Вычитание
neg <непосредственное значение/регистр>, <целевой регистр> // Отрицание
snap_save // Сохранение текущих регистров в снимок
snap_swap // Обмен значений регистров со снимком
snap_clear // Очистка снимка
regs_clear // Очистка регистров
jz <регистр>, <непосредственное значение/метка> // Переход, если ноль
jnz <регистр>, <непосредственное значение/метка> // Переход, если не ноль
jg <регистр>, <непосредственное значение/метка> // Переход, если больше нуля
jl <регистр>, <непосредственное значение/метка> // Переход, если меньше нуля
halt // Останов
sys<номер вызова> ...<параметры> // Системный вызов
```

## Быстрый старт
1. Клонируйте репозиторий.
2. Соберите проект с помощью CMake:
```bash
mkdir build && cd build
cmake .. && make
```